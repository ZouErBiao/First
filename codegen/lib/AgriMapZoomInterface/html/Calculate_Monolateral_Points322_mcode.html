<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="100,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T22U3">Points_Monolateral</span>,<span class="var type1" id="S3T7U4">PM_Cnt</span>,<span class="var type1" id="S4T7U5">f_error</span>] = Calculate_Monolateral_Points(<span class="var type1" id="S5T13U8">Points</span>,<span class="var type1" id="S6T7U9">n</span>,<span class="var type1" id="S7T7U10">Monolateral</span>,<span class="var type1" id="S8T7U11">Monolateral_L</span>,<span class="var type1" id="S9T7U12">Monolateral_flag</span>,<span class="var type1" id="S10T7U13">Clock_Flag</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="100,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%计算单边内缩的点</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,3" id="srcline3"> 3</a></span><span class="line"><span class="comment"><span class="comment">%{</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">输入：</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">n:多边形点的个数(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">Points：需要移动某边的多变形的边界点集，格式为多行两列的矩阵(数据类型：double nx2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">Monolateral：要移动的边的边号(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">Monolateral_L：某边要移动的距离,不能把某个边给缩没了(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">Monolateral_flag：某边要移动的方向(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,10" id="srcline10">10</a></span><span class="line"><span class="comment">输出：</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,11" id="srcline11">11</a></span><span class="line"><span class="comment">PM_Cnt：输出的有效点的个数(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,12" id="srcline12">12</a></span><span class="line"><span class="comment">Points_Monolateral：经过移动某边后的多边形的边界点(数据类型：double 100x2)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,13" id="srcline13">13</a></span><span class="line"><span class="comment">f_error：错误标志，为零则无错误，为1为有错误(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,14" id="srcline14">14</a></span><span class="line"><span class="comment"><span class="comment">%}</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,15" id="srcline15">15</a></span><span class="line"><span class="mxinfo " id="T22:U10"><span class="var type1" id="S2T22U16">Points_Monolateral</span> = <span class="mxinfo " id="T22:U12">zeros(<span class="mxinfo " id="T7:U13">100</span>,<span class="mxinfo " id="T7:U14">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,16" id="srcline16">16</a></span><span class="line"><span class="mxinfo " id="T7:U15"><span class="var type1" id="S3T7U23">PM_Cnt</span> = <span class="mxinfo " id="T7:U17">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="100,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T54:U18"><span class="var type1" id="S12T54U30">NEdgevectorList</span> = <span class="mxinfo " id="T54:U20">zeros(<span class="var type1" id="S6T7U33">n</span>,<span class="mxinfo " id="T7:U22">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T54:U23"><span class="mxinfo " id="T54:U24"><span class="var type1" id="S12T54U38">NEdgevectorList</span>(<span class="mxinfo " id="T56:U26"><span class="mxinfo " id="T7:U27">1</span>:<span class="var type1" id="S6T7U41">n</span></span>,<span class="mxinfo " id="T23:U29">1:2</span>)</span> = <span class="mxinfo " id="T54:U30"><span class="fcn" id="F117N14:B46">DPList</span>(<span class="mxinfo " id="T13:U31"><span class="var type1" id="S5T13U48">Points</span>(<span class="mxinfo " id="T15:U33"><span class="mxinfo " id="T7:U34">1</span>:<span class="var type1" id="S6T7U51">n</span></span>,<span class="mxinfo " id="T23:U36">1:2</span>)</span>,<span class="var type1" id="S6T7U55">n</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,20" id="srcline20">20</a></span><span class="line"><span class="mxinfo " id="T54:U38"><span class="mxinfo " id="T54:U39"><span class="var type1" id="S12T54U59">NEdgevectorList</span>(<span class="mxinfo " id="T56:U41"><span class="mxinfo " id="T7:U42">1</span>:<span class="var type1" id="S6T7U62">n</span></span>,<span class="mxinfo " id="T23:U44">1:2</span>)</span> = <span class="mxinfo " id="T54:U45"><span class="fcn" id="F124N17:B67">NormalizeDPList</span>(<span class="mxinfo " id="T54:U46"><span class="var type1" id="S12T54U69">NEdgevectorList</span>(<span class="mxinfo " id="T56:U48"><span class="mxinfo " id="T7:U49">1</span>:<span class="var type1" id="S6T7U72">n</span></span>,<span class="mxinfo " id="T23:U51">1:2</span>)</span>,<span class="var type1" id="S6T7U76">n</span>)</span></span>;<span class="comment">%单位向量</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T66:U53"><span class="var type1" id="S15T66U79">Sina</span> = <span class="mxinfo " id="T66:U55">zeros(<span class="mxinfo " id="T7:U56">1</span>,<span class="var type1" id="S6T7U83">n</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T66:U58"><span class="mxinfo " id="T66:U59"><span class="var type1" id="S15T66U87">Sina</span>(<span class="mxinfo " id="T12:U61">1</span>,<span class="mxinfo " id="T56:U62"><span class="mxinfo " id="T7:U63">1</span>:<span class="var type1" id="S6T7U91">n</span></span>)</span> = <span class="mxinfo " id="T66:U65"><span class="fcn" id="F176N8:B93">CalculateSina</span>(<span class="mxinfo " id="T54:U66"><span class="var type1" id="S12T54U95">NEdgevectorList</span>(<span class="mxinfo " id="T56:U68"><span class="mxinfo " id="T7:U69">1</span>:<span class="var type1" id="S6T7U98">n</span></span>,<span class="mxinfo " id="T23:U71">1:2</span>)</span>,<span class="var type1" id="S6T7U102">n</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,23" id="srcline23">23</a></span><span class="line"><span class="mxinfo " id="T7:U73"><span class="var type1" id="S4T7U105">f_error</span> = <span class="mxinfo " id="T7:U75">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,24" id="srcline24">24</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="100,25" id="srcline25">25</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T19:U76"><span class="var type1" id="S7T7U114">Monolateral</span> &gt; <span class="var type1" id="S6T7U115">n</span></span> || <span class="mxinfo " id="T19:U79"><span class="var type1" id="S7T7U117">Monolateral</span> &lt; <span class="mxinfo " id="T7:U81">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,26" id="srcline26">26</a></span><span class="line">    <span class="mxinfo " id="T7:U82"><span class="var type1" id="S4T7U122">f_error</span>(1,1) = <span class="mxinfo " id="T7:U84">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,27" id="srcline27">27</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,28" id="srcline28">28</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo " id="T19:U85">eq(<span class="var type1" id="S4T7U131">f_error</span>(1,1),<span class="mxinfo " id="T7:U87">1</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,29" id="srcline29">29</a></span><span class="line">    <span class="mxinfo " id="T24:U88"><span class="mxinfo " id="T24:U89"><span class="var type1" id="S2T22U138">Points_Monolateral</span>(<span class="mxinfo " id="T17:U91"><span class="mxinfo " id="T7:U92">1</span>:<span class="var type1" id="S6T7U141">n</span></span>,<span class="mxinfo " id="T23:U94">1:2</span>)</span> = <span class="mxinfo " id="T54:U95">zeros(<span class="var type1" id="S6T7U147">n</span>,<span class="mxinfo " id="T7:U97">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,30" id="srcline30">30</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,31" id="srcline31">31</a></span><span class="line">    <span class="keyword">switch</span> <span class="var type1" id="S9T7U151">Monolateral_flag</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,32" id="srcline32">32</a></span><span class="line">        <span class="keyword">case</span> <span class="mxinfo " id="T99:U99">0</span><span class="comment">%内移</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,33" id="srcline33">33</a></span><span class="line">            <span class="keyword">if</span> <span class="mxinfo " id="T19:U100"><span class="var type1" id="S7T7U157">Monolateral</span> == <span class="mxinfo " id="T7:U102">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,34" id="srcline34">34</a></span><span class="line">                <span class="mxinfo " id="T25:U103"><span class="mxinfo " id="T25:U104"><span class="var type1" id="S5T13U162">Points</span>(<span class="mxinfo " id="T7:U106">1</span>,<span class="mxinfo " id="T25:U107"><span class="mxinfo " id="T7:U108">1</span>:<span class="mxinfo " id="T7:U109">2</span></span>)</span> = <span class="mxinfo " id="T25:U110"><span class="mxinfo " id="T25:U111"><span class="var type1" id="S5T13U169">Points</span>(<span class="mxinfo " id="T7:U113">1</span>,<span class="mxinfo " id="T23:U114">:</span>)</span>-<span class="mxinfo " id="T25:U115"><span class="mxinfo " id="T25:U116"><span class="mxinfo " id="T25:U117"><span class="var type1" id="S12T54U175">NEdgevectorList</span>(<span class="var type1" id="S6T7U176">n</span>,<span class="mxinfo " id="T23:U120">:</span>)</span>*<span class="var type1" id="S8T7U178">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U122"><span class="var type1" id="S15T66U180">Sina</span>(<span class="mxinfo " id="T12:U124">1</span>,<span class="mxinfo " id="T7:U125">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,35" id="srcline35">35</a></span><span class="line">                <span class="mxinfo " id="T25:U126"><span class="mxinfo " id="T25:U127"><span class="var type1" id="S5T13U186">Points</span>(<span class="mxinfo " id="T7:U129">2</span>,<span class="mxinfo " id="T25:U130"><span class="mxinfo " id="T7:U131">1</span>:<span class="mxinfo " id="T7:U132">2</span></span>)</span> = <span class="mxinfo " id="T25:U133"><span class="mxinfo " id="T25:U134"><span class="mxinfo " id="T25:U135"><span class="mxinfo " id="T25:U136"><span class="var type1" id="S12T54U195">NEdgevectorList</span>(<span class="mxinfo " id="T7:U138">2</span>,<span class="mxinfo " id="T23:U139">:</span>)</span>*<span class="var type1" id="S8T7U198">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U141"><span class="var type1" id="S15T66U200">Sina</span>(<span class="mxinfo " id="T12:U143">1</span>,<span class="mxinfo " id="T7:U144">2</span>)</span></span> + <span class="mxinfo " id="T25:U145"><span class="var type1" id="S5T13U204">Points</span>(<span class="mxinfo " id="T7:U147">2</span>,<span class="mxinfo " id="T25:U148"><span class="mxinfo " id="T7:U149">1</span>:<span class="mxinfo " id="T7:U150">2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,36" id="srcline36">36</a></span><span class="line">            <span class="keyword">elseif</span> <span class="mxinfo " id="T19:U151"><span class="var type1" id="S7T7U211">Monolateral</span> &lt; <span class="var type1" id="S6T7U212">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,37" id="srcline37">37</a></span><span class="line">                <span class="mxinfo " id="T25:U154"><span class="mxinfo " id="T25:U155"><span class="var type1" id="S5T13U216">Points</span>(<span class="var type1" id="S7T7U217">Monolateral</span>,<span class="mxinfo " id="T25:U158"><span class="mxinfo " id="T7:U159">1</span>:<span class="mxinfo " id="T7:U160">2</span></span>)</span> = <span class="mxinfo " id="T25:U161"><span class="mxinfo " id="T25:U162"><span class="var type1" id="S5T13U223">Points</span>(<span class="var type1" id="S7T7U224">Monolateral</span>,<span class="mxinfo " id="T25:U165"><span class="mxinfo " id="T7:U166">1</span>:<span class="mxinfo " id="T7:U167">2</span></span>)</span>-<span class="mxinfo " id="T25:U168"><span class="mxinfo " id="T25:U169"><span class="mxinfo " id="T25:U170"><span class="var type1" id="S12T54U231">NEdgevectorList</span>(<span class="mxinfo " id="T7:U172"><span class="var type1" id="S7T7U233">Monolateral</span>-<span class="mxinfo " id="T7:U174">1</span></span>,<span class="mxinfo " id="T23:U175">1:2</span>)</span>*<span class="var type1" id="S8T7U238">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U177"><span class="var type1" id="S15T66U240">Sina</span>(<span class="mxinfo " id="T12:U179">1</span>,<span class="var type1" id="S7T7U242">Monolateral</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,38" id="srcline38">38</a></span><span class="line">                <span class="mxinfo " id="T25:U181"><span class="mxinfo " id="T25:U182"><span class="var type1" id="S5T13U246">Points</span>(<span class="mxinfo " id="T7:U184"><span class="var type1" id="S7T7U248">Monolateral</span>+<span class="mxinfo " id="T7:U186">1</span></span>,<span class="mxinfo " id="T25:U187"><span class="mxinfo " id="T7:U188">1</span>:<span class="mxinfo " id="T7:U189">2</span></span>)</span> = <span class="mxinfo " id="T25:U190"><span class="mxinfo " id="T25:U191"><span class="var type1" id="S5T13U255">Points</span>(<span class="mxinfo " id="T7:U193"><span class="var type1" id="S7T7U257">Monolateral</span>+<span class="mxinfo " id="T7:U195">1</span></span>,<span class="mxinfo " id="T25:U196"><span class="mxinfo " id="T7:U197">1</span>:<span class="mxinfo " id="T7:U198">2</span></span>)</span>+<span class="mxinfo " id="T25:U199"><span class="mxinfo " id="T25:U200"><span class="mxinfo " id="T25:U201"><span class="var type1" id="S12T54U265">NEdgevectorList</span>(<span class="mxinfo " id="T7:U203"><span class="var type1" id="S7T7U267">Monolateral</span>+<span class="mxinfo " id="T7:U205">1</span></span>,<span class="mxinfo " id="T23:U206">1:2</span>)</span>*<span class="var type1" id="S8T7U272">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U208"><span class="var type1" id="S15T66U274">Sina</span>(<span class="mxinfo " id="T12:U210">1</span>,<span class="mxinfo " id="T7:U211"><span class="var type1" id="S7T7U277">Monolateral</span>+<span class="mxinfo " id="T7:U213">1</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,39" id="srcline39">39</a></span><span class="line">            <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,40" id="srcline40">40</a></span><span class="line">                <span class="mxinfo " id="T25:U214"><span class="mxinfo " id="T25:U215"><span class="var type1" id="S5T13U283">Points</span>(<span class="var type1" id="S7T7U284">Monolateral</span>,<span class="mxinfo " id="T25:U218"><span class="mxinfo " id="T7:U219">1</span>:<span class="mxinfo " id="T7:U220">2</span></span>)</span> = <span class="mxinfo " id="T25:U221"><span class="mxinfo " id="T25:U222"><span class="var type1" id="S5T13U290">Points</span>(<span class="var type1" id="S7T7U291">Monolateral</span>,<span class="mxinfo " id="T25:U225"><span class="mxinfo " id="T7:U226">1</span>:<span class="mxinfo " id="T7:U227">2</span></span>)</span>-<span class="mxinfo " id="T25:U228"><span class="mxinfo " id="T25:U229"><span class="mxinfo " id="T25:U230"><span class="var type1" id="S12T54U298">NEdgevectorList</span>(<span class="mxinfo " id="T7:U232"><span class="var type1" id="S7T7U300">Monolateral</span>-<span class="mxinfo " id="T7:U234">1</span></span>,<span class="mxinfo " id="T23:U235">1:2</span>)</span>*<span class="var type1" id="S8T7U305">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U237"><span class="var type1" id="S15T66U307">Sina</span>(<span class="mxinfo " id="T12:U239">1</span>,<span class="var type1" id="S7T7U309">Monolateral</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,41" id="srcline41">41</a></span><span class="line">                <span class="mxinfo " id="T25:U241"><span class="mxinfo " id="T25:U242"><span class="var type1" id="S5T13U313">Points</span>(<span class="mxinfo " id="T7:U244">1</span>,<span class="mxinfo " id="T25:U245"><span class="mxinfo " id="T7:U246">1</span>:<span class="mxinfo " id="T7:U247">2</span></span>)</span> = <span class="mxinfo " id="T25:U248"><span class="mxinfo " id="T25:U249"><span class="var type1" id="S5T13U320">Points</span>(<span class="mxinfo " id="T7:U251">1</span>,<span class="mxinfo " id="T25:U252"><span class="mxinfo " id="T7:U253">1</span>:<span class="mxinfo " id="T7:U254">2</span></span>)</span>+<span class="mxinfo " id="T25:U255"><span class="mxinfo " id="T25:U256"><span class="mxinfo " id="T25:U257"><span class="var type1" id="S12T54U328">NEdgevectorList</span>(<span class="mxinfo " id="T7:U259">1</span>,<span class="mxinfo " id="T23:U260">1:2</span>)</span>*<span class="var type1" id="S8T7U333">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U262"><span class="var type1" id="S15T66U335">Sina</span>(<span class="mxinfo " id="T12:U264">1</span>,<span class="mxinfo " id="T7:U265">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,42" id="srcline42">42</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,43" id="srcline43">43</a></span><span class="line">        <span class="keyword">case</span> <span class="mxinfo " id="T99:U266">1</span><span class="comment">%外移</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,44" id="srcline44">44</a></span><span class="line">            <span class="keyword">if</span> <span class="mxinfo " id="T19:U267"><span class="var type1" id="S7T7U343">Monolateral</span> == <span class="mxinfo " id="T7:U269">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,45" id="srcline45">45</a></span><span class="line">                <span class="mxinfo " id="T25:U270"><span class="mxinfo " id="T25:U271"><span class="var type1" id="S5T13U348">Points</span>(<span class="mxinfo " id="T7:U273">1</span>,<span class="mxinfo " id="T25:U274"><span class="mxinfo " id="T7:U275">1</span>:<span class="mxinfo " id="T7:U276">2</span></span>)</span> = <span class="mxinfo " id="T25:U277"><span class="mxinfo " id="T25:U278"><span class="var type1" id="S5T13U355">Points</span>(<span class="mxinfo " id="T7:U280">1</span>,<span class="mxinfo " id="T25:U281"><span class="mxinfo " id="T7:U282">1</span>:<span class="mxinfo " id="T7:U283">2</span></span>)</span>+<span class="mxinfo " id="T25:U284"><span class="mxinfo " id="T25:U285"><span class="mxinfo " id="T25:U286"><span class="var type1" id="S12T54U363">NEdgevectorList</span>(<span class="var type1" id="S6T7U364">n</span>,<span class="mxinfo " id="T23:U289">1:2</span>)</span>*<span class="var type1" id="S8T7U368">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U291"><span class="var type1" id="S15T66U370">Sina</span>(<span class="mxinfo " id="T12:U293">1</span>,<span class="mxinfo " id="T7:U294">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,46" id="srcline46">46</a></span><span class="line">                <span class="mxinfo " id="T25:U295"><span class="mxinfo " id="T25:U296"><span class="var type1" id="S5T13U376">Points</span>(<span class="mxinfo " id="T7:U298">2</span>,<span class="mxinfo " id="T25:U299"><span class="mxinfo " id="T7:U300">1</span>:<span class="mxinfo " id="T7:U301">2</span></span>)</span> = <span class="mxinfo " id="T25:U302"><span class="mxinfo " id="T25:U303"><span class="var type1" id="S5T13U383">Points</span>(<span class="mxinfo " id="T7:U305">2</span>,<span class="mxinfo " id="T25:U306"><span class="mxinfo " id="T7:U307">1</span>:<span class="mxinfo " id="T7:U308">2</span></span>)</span>-<span class="mxinfo " id="T25:U309"><span class="mxinfo " id="T25:U310"><span class="mxinfo " id="T25:U311"><span class="var type1" id="S12T54U391">NEdgevectorList</span>(<span class="mxinfo " id="T7:U313">2</span>,<span class="mxinfo " id="T23:U314">1:2</span>)</span>*<span class="var type1" id="S8T7U396">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U316"><span class="var type1" id="S15T66U398">Sina</span>(<span class="mxinfo " id="T12:U318">1</span>,<span class="mxinfo " id="T7:U319">2</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,47" id="srcline47">47</a></span><span class="line">            <span class="keyword">elseif</span> <span class="mxinfo " id="T19:U320"><span class="var type1" id="S7T7U403">Monolateral</span> &lt; <span class="var type1" id="S6T7U404">n</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="100,48" id="srcline48">48</a></span><span class="line">                <span class="mxinfo " id="T25:U323"><span class="mxinfo " id="T25:U324"><span class="var type1" id="S5T13U408">Points</span>(<span class="var type1" id="S7T7U409">Monolateral</span>,<span class="mxinfo " id="T25:U327"><span class="mxinfo " id="T7:U328">1</span>:<span class="mxinfo " id="T7:U329">2</span></span>)</span> = <span class="mxinfo " id="T25:U330"><span class="mxinfo " id="T25:U331"><span class="var type1" id="S5T13U415">Points</span>(<span class="var type1" id="S7T7U416">Monolateral</span>,<span class="mxinfo " id="T25:U334"><span class="mxinfo " id="T7:U335">1</span>:<span class="mxinfo " id="T7:U336">2</span></span>)</span> + <span class="mxinfo " id="T25:U337"><span class="mxinfo " id="T25:U338"><span class="mxinfo " id="T25:U339"><span class="var type1" id="S12T54U423">NEdgevectorList</span>(<span class="mxinfo " id="T7:U341"><span class="var type1" id="S7T7U425">Monolateral</span>-<span class="mxinfo " id="T7:U343">1</span></span>,<span class="mxinfo " id="T23:U344">1:2</span>)</span>*<span class="var type1" id="S8T7U430">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U346"><span class="var type1" id="S15T66U432">Sina</span>(<span class="mxinfo " id="T12:U348">1</span>,<span class="var type1" id="S7T7U434">Monolateral</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,49" id="srcline49">49</a></span><span class="line">                <span class="mxinfo " id="T25:U350"><span class="mxinfo " id="T25:U351"><span class="var type1" id="S5T13U438">Points</span>(<span class="mxinfo " id="T7:U353"><span class="var type1" id="S7T7U440">Monolateral</span>+<span class="mxinfo " id="T7:U355">1</span></span>,<span class="mxinfo " id="T25:U356"><span class="mxinfo " id="T7:U357">1</span>:<span class="mxinfo " id="T7:U358">2</span></span>)</span> = <span class="mxinfo " id="T25:U359"><span class="mxinfo " id="T25:U360"><span class="var type1" id="S5T13U447">Points</span>(<span class="mxinfo " id="T7:U362"><span class="var type1" id="S7T7U449">Monolateral</span>+<span class="mxinfo " id="T7:U364">1</span></span>,<span class="mxinfo " id="T25:U365"><span class="mxinfo " id="T7:U366">1</span>:<span class="mxinfo " id="T7:U367">2</span></span>)</span> - <span class="mxinfo " id="T25:U368"><span class="mxinfo " id="T25:U369"><span class="mxinfo " id="T25:U370"><span class="var type1" id="S12T54U457">NEdgevectorList</span>(<span class="mxinfo " id="T7:U372"><span class="var type1" id="S7T7U459">Monolateral</span>+<span class="mxinfo " id="T7:U374">1</span></span>,<span class="mxinfo " id="T23:U375">1:2</span>)</span>*<span class="var type1" id="S8T7U464">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U377"><span class="var type1" id="S15T66U466">Sina</span>(<span class="mxinfo " id="T12:U379">1</span>,<span class="mxinfo " id="T7:U380"><span class="var type1" id="S7T7U469">Monolateral</span>+<span class="mxinfo " id="T7:U382">1</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,50" id="srcline50">50</a></span><span class="line">            <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,51" id="srcline51">51</a></span><span class="line">                <span class="mxinfo " id="T25:U383"><span class="mxinfo " id="T25:U384"><span class="var type1" id="S5T13U475">Points</span>(<span class="var type1" id="S7T7U476">Monolateral</span>,<span class="mxinfo " id="T25:U387"><span class="mxinfo " id="T7:U388">1</span>:<span class="mxinfo " id="T7:U389">2</span></span>)</span> = <span class="mxinfo " id="T25:U390"><span class="mxinfo " id="T25:U391"><span class="var type1" id="S5T13U482">Points</span>(<span class="var type1" id="S7T7U483">Monolateral</span>,<span class="mxinfo " id="T25:U394"><span class="mxinfo " id="T7:U395">1</span>:<span class="mxinfo " id="T7:U396">2</span></span>)</span> + <span class="mxinfo " id="T25:U397"><span class="mxinfo " id="T25:U398"><span class="mxinfo " id="T25:U399"><span class="var type1" id="S12T54U490">NEdgevectorList</span>(<span class="mxinfo " id="T7:U401"><span class="var type1" id="S7T7U492">Monolateral</span>-<span class="mxinfo " id="T7:U403">1</span></span>,<span class="mxinfo " id="T23:U404">1:2</span>)</span>*<span class="var type1" id="S8T7U497">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U406"><span class="var type1" id="S15T66U499">Sina</span>(<span class="mxinfo " id="T12:U408">1</span>,<span class="var type1" id="S7T7U501">Monolateral</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,52" id="srcline52">52</a></span><span class="line">                <span class="mxinfo " id="T25:U410"><span class="mxinfo " id="T25:U411"><span class="var type1" id="S5T13U505">Points</span>(<span class="mxinfo " id="T7:U413">1</span>,<span class="mxinfo " id="T25:U414"><span class="mxinfo " id="T7:U415">1</span>:<span class="mxinfo " id="T7:U416">2</span></span>)</span> = <span class="mxinfo " id="T25:U417"><span class="mxinfo " id="T25:U418"><span class="var type1" id="S5T13U512">Points</span>(<span class="mxinfo " id="T7:U420">1</span>,<span class="mxinfo " id="T25:U421"><span class="mxinfo " id="T7:U422">1</span>:<span class="mxinfo " id="T7:U423">2</span></span>)</span> - <span class="mxinfo " id="T25:U424"><span class="mxinfo " id="T25:U425"><span class="mxinfo " id="T25:U426"><span class="var type1" id="S12T54U520">NEdgevectorList</span>(<span class="mxinfo " id="T7:U428">1</span>,<span class="mxinfo " id="T23:U429">1:2</span>)</span>*<span class="var type1" id="S8T7U525">Monolateral_L</span></span>/<span class="mxinfo " id="T7:U431"><span class="var type1" id="S15T66U527">Sina</span>(<span class="mxinfo " id="T12:U433">1</span>,<span class="mxinfo " id="T7:U434">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,53" id="srcline53">53</a></span><span class="line">            <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,54" id="srcline54">54</a></span><span class="line">        <span class="keyword">otherwise</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,55" id="srcline55">55</a></span><span class="line">            <span class="mxinfo " id="T7:U435"><span class="var type1" id="S4T7U534">f_error</span>(1,1) = <span class="mxinfo " id="T7:U437">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,56" id="srcline56">56</a></span><span class="line">            <span class="comment">%warning('输入的平面坐标标志并非简单地0或1');</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,57" id="srcline57">57</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,58" id="srcline58">58</a></span><span class="line">    <span class="mxinfo " id="T22:U438"><span class="var type1" id="S18T22U540">PointLast</span> = <span class="mxinfo " id="T22:U440">zeros(<span class="mxinfo " id="T7:U441">100</span>,<span class="mxinfo " id="T7:U442">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,59" id="srcline59">59</a></span><span class="line">    <span class="mxinfo " id="T7:U443"><span class="var type1" id="S19T7U547">PL_Cnt</span> = <span class="mxinfo " id="T7:U445">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,60" id="srcline60">60</a></span><span class="line">    [<span class="mxinfo " id="T22:U446"><span class="var type1" id="S18T22U556">PointLast</span>(<span class="mxinfo " id="T97:U448">1:100</span>,<span class="mxinfo " id="T23:U449">1:2</span>)</span>,<span class="mxinfo " id="T7:U450"><span class="var type1" id="S19T7U564">PL_Cnt</span>(1,1)</span>] = <span class="fcn" id="F321N10:B568">Calculate_Effective_Point</span>(<span class="mxinfo " id="T13:U452"><span class="var type1" id="S5T13U570">Points</span>(<span class="mxinfo " id="T15:U454"><span class="mxinfo " id="T7:U455">1</span>:<span class="var type1" id="S6T7U573">n</span></span>,<span class="mxinfo " id="T23:U457">1:2</span>)</span>,<span class="var type1" id="S6T7U577">n</span>);<span class="comment">%去除无效环</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,61" id="srcline61">61</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T19:U459">eq(<span class="var type1" id="S10T7U582">Clock_Flag</span>,<span class="mxinfo " id="T7:U461">0</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,62" id="srcline62">62</a></span><span class="line">        <span class="mxinfo " id="T7:U462"><span class="var type1" id="S3T7U587">PM_Cnt</span>(1,1) = <span class="var type1" id="S19T7U591">PL_Cnt</span>(1,1)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,63" id="srcline63">63</a></span><span class="line">        <span class="mxinfo " id="T24:U465"><span class="mxinfo " id="T24:U466"><span class="var type1" id="S2T22U597">Points_Monolateral</span>(<span class="mxinfo " id="T17:U468"><span class="mxinfo " id="T7:U469">1</span>:<span class="var type1" id="S3T7U601">PM_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U471">1:2</span>)</span> = <span class="mxinfo " id="T24:U472"><span class="var type1" id="S18T22U608">PointLast</span>(<span class="mxinfo " id="T17:U474"><span class="mxinfo " id="T7:U475">1</span>:<span class="var type1" id="S19T7U612">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T25:U477"><span class="mxinfo " id="T7:U478">1</span>:<span class="mxinfo " id="T7:U479">2</span></span>)</span></span>;<span class="comment">%把结果变成顺时针的</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,64" id="srcline64">64</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,65" id="srcline65">65</a></span><span class="line">        <span class="mxinfo " id="T7:U480"><span class="var type1" id="S3T7U622">PM_Cnt</span>(1,1) = <span class="var type1" id="S19T7U626">PL_Cnt</span>(1,1)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="100,66" id="srcline66">66</a></span><span class="line">        <span class="mxinfo " id="T24:U483"><span class="mxinfo " id="T24:U484"><span class="var type1" id="S2T22U632">Points_Monolateral</span>(<span class="mxinfo " id="T17:U486"><span class="mxinfo " id="T7:U487">1</span>:<span class="var type1" id="S3T7U636">PM_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U489">1:2</span>)</span> = <span class="mxinfo " id="T13:U490">flipud(<span class="mxinfo " id="T24:U491"><span class="var type1" id="S18T22U645">PointLast</span>(<span class="mxinfo " id="T17:U493"><span class="mxinfo " id="T7:U494">1</span>:<span class="var type1" id="S19T7U649">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U496">1:2</span>)</span>)</span></span>;<span class="comment">%把结果变成顺时针的</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,67" id="srcline67">67</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="100,68" id="srcline68">68</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
