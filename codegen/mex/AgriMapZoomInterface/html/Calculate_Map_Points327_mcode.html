<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="104,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S2T22U3">PointLast</span>,<span class="var type1" id="S3T7U4">PL_Cnt</span>,<span class="var type1" id="S4T7U5">f_error</span>] = Calculate_Map_Points(<span class="var type1" id="S5T13U8">Point</span>,<span class="var type1" id="S6T7U9">P_Cnt</span>,<span class="var type1" id="S7T7U10">L</span>,<span class="var type1" id="S8T7U11">flag</span>,<span class="var type1" id="S9T7U12">Theita</span>,<span class="var type1" id="S10T7U13">Clock_Flag</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="104,2" id="srcline2"> 2</a></span><span class="line"><span class="comment"><span class="comment">%{</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="104,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">作用：对多边形进行整体内缩或外扩</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">输入：</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,5" id="srcline5"> 5</a></span><span class="line"><span class="comment">P_Cnt:为点集点的个数(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">Point:为初始点坐标集(数据类型：double P_Cntx1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">L:为缩放的宽度(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">flag: = 0缩小，flag = 1,扩大(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">Theita:为小角度的上限(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,10" id="srcline10">10</a></span><span class="line"><span class="comment">Clock_Flag:原输入点集的时针方向（未经转换成顺时针前）</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,11" id="srcline11">11</a></span><span class="line"><span class="comment">0-逆时针</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,12" id="srcline12">12</a></span><span class="line"><span class="comment">1-顺时针</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,13" id="srcline13">13</a></span><span class="line"><span class="comment">输出：</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,14" id="srcline14">14</a></span><span class="line"><span class="comment">PL_Cnt:输出点集点的个数(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,15" id="srcline15">15</a></span><span class="line"><span class="comment">PointLast：处理后的点集(数据类型：double PL_Cntx1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,16" id="srcline16">16</a></span><span class="line"><span class="comment">f_error：0：正常；1：出现错误(数据类型：double 1x1)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,17" id="srcline17">17</a></span><span class="line"><span class="comment"><span class="comment">%}</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="104,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T7:U10"><span class="var type1" id="S11T7U16">n</span> = <span class="mxinfo " id="T7:U12">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T7:U13"><span class="var type1" id="S11T7U24">n</span>(1,1) = <span class="var type1" id="S6T7U27">P_Cnt</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,20" id="srcline20">20</a></span><span class="line"><span class="mxinfo " id="T66:U16"><span class="var type1" id="S13T66U30">Sina</span> = <span class="mxinfo " id="T66:U18">zeros(<span class="mxinfo " id="T7:U19">1</span>,<span class="var type1" id="S11T7U35">n</span>(1,1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T54:U21"><span class="var type1" id="S14T54U40">EList</span> = <span class="mxinfo " id="T54:U23">zeros(<span class="var type1" id="S11T7U44">n</span>(1,1),<span class="mxinfo " id="T7:U25">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T54:U26"><span class="var type1" id="S15T54U50">NEdgevectorList</span> = <span class="mxinfo " id="T54:U28">zeros(<span class="var type1" id="S11T7U54">n</span>(1,1),<span class="mxinfo " id="T7:U30">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,23" id="srcline23">23</a></span><span class="line"><span class="mxinfo " id="T54:U31"><span class="mxinfo " id="T54:U32"><span class="var type1" id="S14T54U61">EList</span>(<span class="mxinfo " id="T56:U34"><span class="mxinfo " id="T7:U35">1</span>:<span class="var type1" id="S11T7U65">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U37">1:2</span>)</span> = <span class="mxinfo " id="T54:U38"><span class="fcn" id="F118N14:B72">DPList</span>(<span class="mxinfo " id="T13:U39"><span class="var type1" id="S5T13U74">Point</span>(<span class="mxinfo " id="T15:U41"><span class="mxinfo " id="T7:U42">1</span>:<span class="var type1" id="S11T7U78">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U44">1:2</span>)</span>,<span class="var type1" id="S11T7U85">n</span>(1,1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T54:U46"><span class="mxinfo " id="T54:U47"><span class="var type1" id="S15T54U91">NEdgevectorList</span>(<span class="mxinfo " id="T56:U49"><span class="mxinfo " id="T7:U50">1</span>:<span class="var type1" id="S11T7U95">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U52">1:2</span>)</span> = <span class="mxinfo " id="T54:U53"><span class="fcn" id="F125N17:B102">NormalizeDPList</span>(<span class="mxinfo " id="T54:U54"><span class="var type1" id="S14T54U104">EList</span>(<span class="mxinfo " id="T56:U56"><span class="mxinfo " id="T7:U57">1</span>:<span class="var type1" id="S11T7U108">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U59">1:2</span>)</span>,<span class="var type1" id="S11T7U115">n</span>(1,1))</span></span>;<span class="comment">%单位向量</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,25" id="srcline25">25</a></span><span class="line"><span class="mxinfo " id="T66:U61"><span class="mxinfo " id="T66:U62"><span class="var type1" id="S13T66U121">Sina</span>(<span class="mxinfo " id="T12:U64">1</span>,<span class="mxinfo " id="T56:U65"><span class="mxinfo " id="T7:U66">1</span>:<span class="var type1" id="S11T7U126">n</span>(1,1)</span>)</span> = <span class="mxinfo " id="T66:U68"><span class="fcn" id="F177N8:B130">CalculateSina</span>(<span class="mxinfo " id="T54:U69"><span class="var type1" id="S15T54U132">NEdgevectorList</span>(<span class="mxinfo " id="T56:U71"><span class="mxinfo " id="T7:U72">1</span>:<span class="var type1" id="S11T7U136">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U74">1:2</span>)</span>,<span class="var type1" id="S11T7U143">n</span>(1,1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,26" id="srcline26">26</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="104,27" id="srcline27">27</a></span><span class="line"><span class="mxinfo " id="T22:U76"><span class="var type1" id="S19T22U148">P</span> = <span class="mxinfo " id="T22:U78">zeros(<span class="mxinfo " id="T7:U79">100</span>,<span class="mxinfo " id="T7:U80">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,28" id="srcline28">28</a></span><span class="line"><span class="mxinfo " id="T7:U81"><span class="var type1" id="S20T7U155">PP_Cnt</span> = <span class="mxinfo " id="T7:U83">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,29" id="srcline29">29</a></span><span class="line"><span class="mxinfo " id="T22:U84"><span class="var type1" id="S2T22U162">PointLast</span> = <span class="mxinfo " id="T22:U86">zeros(<span class="mxinfo " id="T7:U87">100</span>,<span class="mxinfo " id="T7:U88">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,30" id="srcline30">30</a></span><span class="line"><span class="mxinfo " id="T7:U89"><span class="var type1" id="S3T7U169">PL_Cnt</span> = <span class="mxinfo " id="T7:U91">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,31" id="srcline31">31</a></span><span class="line"><span class="mxinfo " id="T7:U92"><span class="var type1" id="S21T7U176">t</span> = <span class="mxinfo " id="T7:U94">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,32" id="srcline32">32</a></span><span class="line"><span class="mxinfo " id="T7:U95"><span class="var type1" id="S22T7U183">Area</span> = <span class="mxinfo " id="T7:U97">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,33" id="srcline33">33</a></span><span class="line"><span class="mxinfo " id="T7:U98"><span class="var type1" id="S23T7U190">Area_Limit</span> = <span class="mxinfo " id="T7:U100">20</span></span>;<span class="comment">%内缩后的多变行面积最小值为某一常数，如果L对应的内缩面积是Area_Limit，则保留L-0.5米对应的内缩后的点</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,34" id="srcline34">34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="104,35" id="srcline35">35</a></span><span class="line"><span class="mxinfo " id="T7:U101"><span class="var type1" id="S4T7U194">f_error</span> = <span class="mxinfo " id="T7:U103">zeros(1,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,36" id="srcline36">36</a></span><span class="line"><span class="comment">%%</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,37" id="srcline37">37</a></span><span class="line"><span class="keyword">switch</span> <span class="var type1" id="S8T7U200">flag</span> <span class="comment">%flag: = 0缩小，flag = 1,扩大</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,38" id="srcline38">38</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T99:U105">0</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,39" id="srcline39">39</a></span><span class="line">       <span class="mxinfo " id="T7:U106"><span class="var type1" id="S21T7U206">t</span>(1,1) = <span class="mxinfo " id="T7:U108">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,40" id="srcline40">40</a></span><span class="line">       <span class="keyword">while</span> <span class="var type1" id="S21T7U212">t</span>(1,1)</span></span>
<span class="srcline"><span class="lineno"><a href="104,41" id="srcline41">41</a></span><span class="line">           <span class="keyword">for</span> <span class="var type1" id="S24T7U217">i</span> = <span class="mxinfo " id="T7:U111">2</span>:<span class="var type1" id="S11T7U221">n</span>(1,1)</span></span>
<span class="srcline"><span class="lineno"><a href="104,42" id="srcline42">42</a></span><span class="line">               <span class="mxinfo " id="T25:U113"><span class="mxinfo " id="T25:U114"><span class="var type1" id="S19T22U227">P</span>(<span class="var type1" id="S24T7U228">i</span>,<span class="mxinfo " id="T25:U117"><span class="mxinfo " id="T7:U118">1</span>:<span class="mxinfo " id="T7:U119">2</span></span>)</span> = <span class="mxinfo " id="T25:U120"><span class="mxinfo " id="T25:U121"><span class="var type1" id="S5T13U234">Point</span>(<span class="var type1" id="S24T7U235">i</span>,<span class="mxinfo " id="T25:U124"><span class="mxinfo " id="T7:U125">1</span>:<span class="mxinfo " id="T7:U126">2</span></span>)</span> + <span class="mxinfo " id="T25:U127"><span class="mxinfo " id="T25:U128">(<span class="mxinfo " id="T25:U129"><span class="mxinfo " id="T25:U130"><span class="var type1" id="S15T54U244">NEdgevectorList</span>(<span class="var type1" id="S24T7U245">i</span>,<span class="mxinfo " id="T23:U133">1:2</span>)</span> - <span class="mxinfo " id="T25:U134"><span class="var type1" id="S15T54U250">NEdgevectorList</span>(<span class="mxinfo " id="T7:U136"><span class="var type1" id="S24T7U252">i</span>-<span class="mxinfo " id="T7:U138">1</span></span>,<span class="mxinfo " id="T25:U139"><span class="mxinfo " id="T7:U140">1</span>:<span class="mxinfo " id="T7:U141">2</span></span>)</span></span>) * <span class="var type1" id="S7T7U257">L</span></span> / <span class="mxinfo " id="T7:U143"><span class="var type1" id="S13T66U259">Sina</span>(<span class="mxinfo " id="T12:U145">1</span>,<span class="var type1" id="S24T7U261">i</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,43" id="srcline43">43</a></span><span class="line">           <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,44" id="srcline44">44</a></span><span class="line">           <span class="mxinfo " id="T25:U147"><span class="mxinfo " id="T25:U148"><span class="var type1" id="S19T22U265">P</span>(<span class="mxinfo " id="T12:U150">1</span>,<span class="mxinfo " id="T23:U151">1:2</span>)</span> = <span class="mxinfo " id="T25:U152"><span class="mxinfo " id="T25:U153"><span class="var type1" id="S5T13U272">Point</span>(<span class="mxinfo " id="T7:U155">1</span>,<span class="mxinfo " id="T25:U156"><span class="mxinfo " id="T7:U157">1</span>:<span class="mxinfo " id="T7:U158">2</span></span>)</span> + <span class="mxinfo " id="T25:U159"><span class="mxinfo " id="T25:U160">(<span class="mxinfo " id="T25:U161"><span class="mxinfo " id="T25:U162"><span class="var type1" id="S15T54U282">NEdgevectorList</span>(<span class="mxinfo " id="T7:U164">1</span>,<span class="mxinfo " id="T23:U165">1:2</span>)</span> - <span class="mxinfo " id="T25:U166"><span class="var type1" id="S15T54U288">NEdgevectorList</span>(<span class="mxinfo " id="T7:U168"><span class="var type1" id="S11T7U290">n</span>(1,1)</span>,<span class="mxinfo " id="T25:U170"><span class="mxinfo " id="T7:U171">1</span>:<span class="mxinfo " id="T7:U172">2</span></span>)</span></span>) * <span class="var type1" id="S7T7U296">L</span></span> / <span class="mxinfo " id="T7:U174"><span class="var type1" id="S13T66U298">Sina</span>(<span class="mxinfo " id="T12:U176">1</span>,<span class="mxinfo " id="T7:U177">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,45" id="srcline45">45</a></span><span class="line">           </span></span>
<span class="srcline"><span class="lineno"><a href="104,46" id="srcline46">46</a></span><span class="line">           <span class="mxinfo " id="T21:U178"><span class="var type1" id="S25T21U303">Prep</span> = <span class="mxinfo " id="T21:U180"><span class="fcn" id="F126N18:B305">Preprocess</span>(<span class="mxinfo " id="T24:U181"><span class="var type1" id="S19T22U307">P</span>(<span class="mxinfo " id="T17:U183"><span class="mxinfo " id="T7:U184">1</span>:<span class="var type1" id="S11T7U311">n</span>(1,1)</span>,<span class="mxinfo " id="T23:U186">1:2</span>)</span>,<span class="var type1" id="S11T7U318">n</span>(1,1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,47" id="srcline47">47</a></span><span class="line">           <span class="mxinfo " id="T22:U188"><span class="mxinfo " id="T22:U189"><span class="var type1" id="S19T22U324">P</span>(<span class="mxinfo " id="T5:U191"><span class="mxinfo " id="T7:U192">1</span>:<span class="mxinfo " id="T7:U193">100</span></span>,<span class="mxinfo " id="T25:U194"><span class="mxinfo " id="T7:U195">1</span>:<span class="mxinfo " id="T7:U196">2</span></span>)</span> = <span class="mxinfo " id="T22:U197">zeros(<span class="mxinfo " id="T7:U198">100</span>,<span class="mxinfo " id="T7:U199">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,48" id="srcline48">48</a></span><span class="line">           <span class="mxinfo " id="T22:U200"><span class="mxinfo " id="T22:U201"><span class="var type1" id="S19T22U338">P</span>(<span class="mxinfo " id="T97:U203">1:100</span>,<span class="mxinfo " id="T23:U204">1:2</span>)</span> = <span class="mxinfo " id="T22:U205"><span class="mxinfo " id="T22:U206"><span class="var type1" id="S25T21U347">Prep</span>.Preprocessing</span>(<span class="mxinfo " id="T5:U208"><span class="mxinfo " id="T7:U209">1</span>:<span class="mxinfo " id="T7:U210">100</span></span>,<span class="mxinfo " id="T25:U211"><span class="mxinfo " id="T7:U212">1</span>:<span class="mxinfo " id="T7:U213">2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,49" id="srcline49">49</a></span><span class="line">           <span class="mxinfo " id="T7:U214"><span class="var type1" id="S20T7U358">PP_Cnt</span>(1,1) = <span class="mxinfo " id="T7:U216"><span class="var type1" id="S25T21U363">Prep</span>.Cnt</span>(1,1)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,50" id="srcline50">50</a></span><span class="line">           [<span class="mxinfo " id="T22:U218"><span class="var type1" id="S2T22U371">PointLast</span>(<span class="mxinfo " id="T97:U220">1:100</span>,<span class="mxinfo " id="T23:U221">1:2</span>)</span>,<span class="mxinfo " id="T7:U222"><span class="var type1" id="S3T7U379">PL_Cnt</span>(1,1)</span>] = <span class="fcn" id="F322N10:B383">Calculate_Effective_Point</span>(<span class="mxinfo " id="T24:U224"><span class="var type1" id="S19T22U385">P</span>(<span class="mxinfo " id="T17:U226"><span class="mxinfo " id="T7:U227">1</span>:<span class="var type1" id="S20T7U389">PP_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U229">1:2</span>)</span>,<span class="var type1" id="S20T7U396">PP_Cnt</span>(1,1));</span></span>
<span class="srcline"><span class="lineno"><a href="104,51" id="srcline51">51</a></span><span class="line">           <span class="mxinfo " id="T7:U231"><span class="var type1" id="S22T7U402">Area</span>(1,1) = <span class="mxinfo " id="T7:U233"><span class="fcn" id="F295N9:B406">Calculate_Area</span>(<span class="mxinfo " id="T24:U234"><span class="var type1" id="S2T22U408">PointLast</span>(<span class="mxinfo " id="T17:U236"><span class="mxinfo " id="T7:U237">1</span>:<span class="var type1" id="S3T7U412">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U239">1:2</span>)</span>,<span class="var type1" id="S3T7U419">PL_Cnt</span>(1,1))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,52" id="srcline52">52</a></span><span class="line">           <span class="comment">%%</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,53" id="srcline53">53</a></span><span class="line">           <span class="comment">%此处只能解决L渐变的翻转情况</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,54" id="srcline54">54</a></span><span class="line">           <span class="keyword">if</span> <span class="mxinfo " id="T19:U241"><span class="var type1" id="S22T7U426">Area</span>(1,1) &lt; <span class="var type1" id="S23T7U429">Area_Limit</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="104,55" id="srcline55">55</a></span><span class="line">               <span class="mxinfo " id="T7:U244"><span class="var type1" id="S7T7U432">L</span> = <span class="mxinfo " id="T7:U246"><span class="var type1" id="S7T7U434">L</span> - <span class="mxinfo " id="T7:U248">0.5</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,56" id="srcline56">56</a></span><span class="line">           <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,57" id="srcline57">57</a></span><span class="line">               <span class="mxinfo " id="T7:U249"><span class="var type1" id="S21T7U440">t</span>(1,1) = <span class="mxinfo " id="T7:U251">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,58" id="srcline58">58</a></span><span class="line">           <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,59" id="srcline59">59</a></span><span class="line">       <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,60" id="srcline60">60</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T19:U252">eq(<span class="var type1" id="S10T7U448">Clock_Flag</span>,<span class="mxinfo " id="T7:U254">1</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,61" id="srcline61">61</a></span><span class="line">            <span class="mxinfo " id="T24:U255"><span class="mxinfo " id="T24:U256"><span class="var type1" id="S2T22U453">PointLast</span>(<span class="mxinfo " id="T17:U258"><span class="mxinfo " id="T7:U259">1</span>:<span class="var type1" id="S3T7U457">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U261">1:2</span>)</span> = <span class="mxinfo " id="T13:U262">flipud(<span class="mxinfo " id="T24:U263"><span class="var type1" id="S2T22U466">PointLast</span>(<span class="mxinfo " id="T17:U265"><span class="mxinfo " id="T7:U266">1</span>:<span class="var type1" id="S3T7U470">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U268">1:2</span>)</span>)</span></span>;<span class="comment">%转换成与初始输入时的时针顺序一致</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,62" id="srcline62">62</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,63" id="srcline63">63</a></span><span class="line">    <span class="keyword">case</span> <span class="mxinfo " id="T99:U269">1</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,64" id="srcline64">64</a></span><span class="line">        [<span class="mxinfo " id="T22:U270"><span class="var type1" id="S2T22U482">PointLast</span>(<span class="mxinfo " id="T97:U272">1:100</span>,<span class="mxinfo " id="T23:U273">1:2</span>)</span>,<span class="mxinfo " id="T7:U274"><span class="var type1" id="S3T7U490">PL_Cnt</span>(1,1)</span>]  = <span class="fcn" id="F326N7:B494">CalculateNewPoint</span>(<span class="mxinfo " id="T13:U276"><span class="var type1" id="S5T13U496">Point</span>(<span class="mxinfo " id="T15:U278"><span class="mxinfo " id="T7:U279">1</span>:<span class="var type1" id="S6T7U499">P_Cnt</span></span>,<span class="mxinfo " id="T23:U281">1:2</span>)</span>,<span class="var type1" id="S6T7U503">P_Cnt</span>,<span class="var type1" id="S7T7U504">L</span>,<span class="var type1" id="S9T7U505">Theita</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="104,65" id="srcline65">65</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T19:U285">eq(<span class="var type1" id="S10T7U510">Clock_Flag</span>,<span class="mxinfo " id="T7:U287">0</span>)</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,66" id="srcline66">66</a></span><span class="line">           <span class="mxinfo " id="T24:U288"><span class="mxinfo " id="T24:U289"><span class="var type1" id="S2T22U515">PointLast</span>(<span class="mxinfo " id="T17:U291"><span class="mxinfo " id="T7:U292">1</span>:<span class="var type1" id="S3T7U519">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U294">1:2</span>)</span> = <span class="mxinfo " id="T13:U295">flipud(<span class="mxinfo " id="T24:U296"><span class="var type1" id="S2T22U528">PointLast</span>(<span class="mxinfo " id="T17:U298"><span class="mxinfo " id="T7:U299">1</span>:<span class="var type1" id="S3T7U532">PL_Cnt</span>(1,1)</span>,<span class="mxinfo " id="T23:U301">1:2</span>)</span>)</span></span>;<span class="comment">%%转换成与刚输入时的时针顺序一致</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,67" id="srcline67">67</a></span><span class="line">       <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,68" id="srcline68">68</a></span><span class="line">    <span class="keyword">otherwise</span></span></span>
<span class="srcline"><span class="lineno"><a href="104,69" id="srcline69">69</a></span><span class="line">        <span class="mxinfo " id="T7:U302"><span class="var type1" id="S4T7U542">f_error</span>(1,1) = <span class="mxinfo " id="T7:U304">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="104,70" id="srcline70">70</a></span><span class="line"><span class="keyword"><span class="keyword">end</span></span></span></span>
</pre>
